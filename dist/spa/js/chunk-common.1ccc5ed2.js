(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"003a":function(t,e,o){},"1ff9":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"login-box"},[o("a",{staticClass:"social-button",attrs:{href:"#",id:"google-connect"},on:{click:t.IniciarSesionGoogle}},[o("span",[t._v(t._s(t.google))])])])},a=[],r=(o("7f7f"),o("28a5"),o("6762"),o("2fdb"),o("bc3a")),i=o.n(r),s=o("fc1b"),c={name:"LoginButtons",data:function(){return{google:this.$t("google"),facebook:this.$t("facebook")}},methods:{IniciarSesionGoogle:function(){var t=this,e=s["d"];s["b"].useDeviceLanguage(),e.setCustomParameters({login_hint:"user@example.com"});var o=!1;s["b"].signInWithPopup(e).catch((function(t){console.log(t),o=!0})).then((function(t){var e=t.credential.idToken;return e})).then((function(e){!0===o?t.Fail(t.$t("error_google")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:e,id_client:s["e"].client_id}}).then((function(e){if(e.data.includes("Usuario correcto:")){var o=e.data.split(":")[1];t.DatosExtraUsuario(o,s["b"].currentUser.providerData[0]).then((function(e){var n;n=void 0===e.data.foto||""===e.data.foto?s["b"].currentUser.providerData[0].photoURL:e.data.foto;var a={name:e.data.name,date:e.data.date,gender:e.data.gender,photoURL:n,displayName:s["b"].currentUser.providerData[0].displayName,email:s["b"].currentUser.providerData[0].email,provider:s["b"].currentUser.providerData[0].providerId};t.$store.dispatch("store/anadirUsuario",a).then((function(){t.$store.dispatch("store/anadirToken",o).then((function(){setTimeout((function(){t.Success(),t.$router.push("events")}),500)}))}))})).catch((function(t){console.log(t)}))}else t.Fail(t.$t("error_google"))}),(function(t){console.log("EL ERROR ES",t)}))}))},IniciarSesionFacebook:function(){var t=this,e=s["c"];e.addScope("user_birthday"),s["b"].useDeviceLanguage(),e.setCustomParameters({login_hint:"user@example.com"});var o=!1;s["b"].signInWithPopup(e).catch((function(t){console.log(t),o=!0})).then((function(t){var e=t.credential.idToken;return e})).then((function(e){!0===o?t.Fail(t.$t("error_facebook")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:e,id_client:s["e"].client_id}}).then((function(e){var o;o=void 0===e.data.foto?s["b"].currentUser.providerData[0].photoURL:e.data.foto;var n={name:s["b"].currentUser.name,date:s["b"].currentUser.date,gender:s["b"].currentUser.gender,photoURL:o,displayName:s["b"].currentUser.providerData[0].displayName,email:s["b"].currentUser.providerData[0].email,provider:s["b"].currentUser.providerData[0].providerId};if(e.data.includes("Usuario correcto:")){var a=e.data.split(":")[1];t.$store.dispatch("store/anadirUsuario",n).then((function(){t.$store.dispatch("store/anadirToken",a).then((function(){setTimeout((function(){t.Success(),t.$router.push("events")}),500)}))}))}else t.Fail(t.$t("error_google"))}),(function(t){console.log("EL ERROR ES",t)}))}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("login_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(t){this.$q.notify({color:"negative",message:t,position:"bottom",timeout:2e3,progress:!0})},DatosExtraUsuario:function(t,e){return i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Obtener Datos",token:t,correo:e.email}})}}},u=c,l=(o("98d2"),o("2877")),d=Object(l["a"])(u,n,a,!1,null,null,null);e["a"]=d.exports},"2b46":function(t,e,o){"use strict";var n=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"selector"},[o("picture-input",{key:t.$i18n.locale,ref:"foto",attrs:{id:"foto",crop:!1,width:this.anchura,height:this.altura,margin:"16",accept:"image/*",size:"25",radius:"5","button-class":"primary",zIndex:this.index,"custom-strings":{upload:this.$t("done"),drag:this.$t("select"),change:this.$t("change")}},on:{change:t.onChange,"":function(t){}}})],1)},a=[],r=o("e597"),i={name:"Selectorarchivos",data:function(){return{info1:this.$t("select"),index:1}},props:{anchura:{},altura:{}},components:{PictureInput:r["a"]},methods:{onChange:function(t){console.log("Nuevo archivo"),t?(console.log("Archivo le√≠do."),this.image=t):console.log("FileReader no soportado")}}},s=i,c=(o("3f53"),o("2877")),u=Object(c["a"])(s,n,a,!1,null,null,null);e["a"]=u.exports},"3f53":function(t,e,o){"use strict";var n=o("003a"),a=o.n(n);a.a},"5c50":function(t,e,o){},"98d2":function(t,e,o){"use strict";var n=o("5c50"),a=o.n(n);a.a},a7f7:function(t,e,o){t.exports=o.p+"img/Canary_Go_Icon.3e7ab0e6.png"}}]);