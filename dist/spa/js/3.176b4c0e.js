(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[3],{1776:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"row text-center"},[a("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"},attrs:{id:"formulario"}},[a("img",{staticStyle:{width:"100px",height:"100px","border-radius":"20%"},attrs:{src:n("18e8")}}),a("br"),a("br"),a("br"),a("form",{staticClass:"q-gutter-md",on:{submit:function(t){return t.preventDefault(),t.stopPropagation(),e.onSubmit(t)},reset:function(t){return t.preventDefault(),t.stopPropagation(),e.onReset(t)}}},[a("q-item",[a("q-item-section",[a("q-item-label",{staticStyle:{color:"#ec9718"}},[e._v(e._s(e.$t("optional_photo")))])],1)],1),a("Selectorarchivos",{attrs:{anchura:500,altura:500}}),a("q-input",{ref:"nombre",staticClass:"Nombre",attrs:{filled:"",label:e.$t("name"),hint:e.$t("name_hint"),type:"name","lazy-rules":"",rules:[function(t){return t&&t.length>0||e.$t("name_fail")}]},model:{value:e.nombre,callback:function(t){e.nombre=t},expression:"nombre"}}),a("q-input",{ref:"usuario",staticClass:"Usuario",attrs:{filled:"",label:e.$t("user"),hint:e.$t("user_hint"),type:"user","lazy-rules":"",rules:[function(t){return t&&t.length>0||e.$t("user_fail")}]},model:{value:e.usuario,callback:function(t){e.usuario=t},expression:"usuario"}}),a("q-select",{ref:"genero",staticClass:"Genero",attrs:{filled:"",options:e.opciones_genero,label:e.$t("gender"),hint:e.$t("gender_hint"),"lazy-rules":"",rules:[function(t){return t&&t.length>0||e.$t("gender_fail")}]},model:{value:e.genero,callback:function(t){e.genero=t},expression:"genero"}}),a("q-input",{ref:"fecha",staticClass:"Fecha",attrs:{filled:"",label:e.$t("date"),hint:e.$t("date_hint"),"lazy-rules":"",rules:[function(t){return t&&t.length>0||e.$t("date_fail")},function(t){return 10===t.length||e.$t("date_fail_2")},"date"]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{on:{input:function(){return e.$refs.qDateProxy.hide()}},model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}})],1)],1)]},proxy:!0}]),model:{value:e.fecha,callback:function(t){e.fecha=t},expression:"fecha"}}),a("q-input",{ref:"email",staticClass:"Email",attrs:{filled:"",label:e.$t("email"),hint:e.$t("email_hint"),type:"email","lazy-rules":"",rules:[function(t){return t&&t.length>0&&t.indexOf("@")>=0||e.$t("email_fail")}]},model:{value:e.email,callback:function(t){e.email=t},expression:"email"}}),a("q-input",{ref:"contrasena",staticClass:"Contrasena",attrs:{filled:"",type:e.isPwd?"password":"text",label:e.$t("password"),hint:e.$t("password_hint"),"lazy-rules":"",rules:[function(t){return null!==t&&""!==t||e.$t("password_fail")}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.contrasena,callback:function(t){e.contrasena=t},expression:"contrasena"}}),a("q-input",{ref:"contrasena2",staticClass:"Contrasena2",attrs:{filled:"",type:e.isPwd?"password":"text",label:e.$t("password"),hint:e.$t("password_repeat"),"lazy-rules":"",rules:[function(t){return null!==t&&""!==t||e.$t("password_repeat_fail")},function(t){return t===e.contrasena||e.$t("password_repeat_fail_2")}]},scopedSlots:e._u([{key:"append",fn:function(){return[a("q-icon",{staticClass:"cursor-pointer",attrs:{name:e.isPwd?"visibility_off":"visibility"},on:{click:function(t){e.isPwd=!e.isPwd}}})]},proxy:!0}]),model:{value:e.contrasena2,callback:function(t){e.contrasena2=t},expression:"contrasena2"}}),a("div",{staticClass:"text-center"},[a("q-checkbox",{staticClass:"Terms",attrs:{name:"sesion",label:e.$t("terms")},model:{value:e.sesion,callback:function(t){e.sesion=t},expression:"sesion"}}),a("br"),a("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[a("q-item-section",[a("q-item-label",{staticStyle:{color:"#ec9718"}},[e._v(e._s(e.$t("terms2")))])],1)],1)],1),a("div",[a("q-btn",{staticClass:"Registro",attrs:{label:e.$t("register"),type:"submit",color:"primary"}}),a("q-btn",{staticClass:"Reset",attrs:{label:e.$t("clean"),type:"reset",color:"primary",flat:""}})],1)],1),a("LoginButtons",{key:e.$i18n.locale}),a("q-dialog",{model:{value:e.alert,callback:function(t){e.alert=t},expression:"alert"}},[a("q-card",[a("q-card-section",[a("div",{staticClass:"text-h6"},[e._v(e._s(e.$t("alert")))])]),a("q-card-section",{staticClass:"q-pt-none"},[e._v(e._s(e.$t("email_verification")))]),a("q-card-actions",{attrs:{align:"right"}},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)],1)])},s=[],o=(n("1a43"),n("a13d")),i=n("5248"),r=n("fa04"),c={name:"Signup",components:{LoginButtons:r["a"],Selectorarchivos:i["a"]},data:function(){return{alert:!1,confirm:!1,prompt:!1,nombre:null,usuario:null,genero:null,opciones_genero:["Masculino","Femenino"],email:null,fecha:null,contrasena:null,contrasena2:null,isPwd:!0,sesion:!1}},methods:{onSubmit:function(){this.$refs.nombre.validate(),this.$refs.usuario.validate(),this.$refs.email.validate(),this.$refs.fecha.validate(),this.$refs.contrasena.validate(),this.$refs.contrasena2.validate(),this.$refs.genero.validate(),this.$refs.nombre.hasError||this.$refs.usuario.hasError||this.$refs.genero.hasError||this.$refs.email.hasError||this.$refs.fecha.hasError||this.$refs.contrasena.hasError||this.$refs.contrasena2.hasError?this.formHasError=!0:!0!==this.sesion?this.$q.notify({color:"negative",message:this.$t("register_fail"),position:"bottom",timeout:2e3,progress:!0}):this.Registrar()},onReset:function(){this.nombre=null,this.usuario=null,this.fecha=null,this.email=null,this.contrasena=null,this.contrasena2=null,this.genero=null,this.$refs.nombre.resetValidation(),this.$refs.usuario.resetValidation(),this.$refs.fecha.resetValidation(),this.$refs.email.resetValidation(),this.$refs.contrasena.resetValidation(),this.$refs.contrasena2.resetValidation(),this.$refs.genero.resetValidation()},Registrar:function(){var e=this,t=this.email,n=this.contrasena,a=!1;o["c"].createUserWithEmailAndPassword(t,n).catch((function(e){var t=e.code,n=e.message;console.log(t),console.log(n),a=!0})).then((function(){a?e.Fail(e.$t("register_fail_2")):(e.Success(),e.Verificar(),e.EnviarInfo(),e.ActualizarFoto())}))},Verificar:function(){var e=this,t=o["b"].auth().currentUser;t.sendEmailVerification().catch((function(e){console.log(e),console.log(e.code)})).then((function(){e.alert=!0}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("register_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(e){this.$q.notify({color:"negative",message:e,position:"bottom",timeout:2e3,progress:!0})},EnviarInfo:function(){document.getElementById("foto").files[0];var e=o["c"].currentUser;null!=e&&e.updateProfile({displayName:this.usuario,photoURL:this.foto,name:this.name,date:this.fecha})},ActualizarFoto:function(){var e,t=o["c"].currentUser,n=o["c"].currentUser.uid,a=o["g"].ref("avatares/usuarios/"+n),s=a.child("foto"),i=document.getElementById("foto").files[0];if(void 0!==i)s.put(i).then((function(n){s.getDownloadURL().then((function(t){e=t})).then((function(){null!=t&&t.updateProfile({photoURL:e})}))}));else{var r,c=o["c"].currentUser.uid,l=o["g"].ref("avatares/usuarios/"+c),u=l.child("foto"),f=o["g"].ref("avatares/predefinidos/"),h=f.child("Avatar_m.png"),d=f.child("Avatar_f.png");"Masculino"===this.genero?(console.log("Masculino"),r=h):"Femenino"===this.genero&&(console.log("Femenino"),r=d),r.getDownloadURL().catch((function(e){console.log("Error",e)})).then((function(e,t){var n=new XMLHttpRequest;n.responseType="blob",n.onload=function(e){var t=n.response;u.put(t),console.log("Enviando")},n.open("GET",e),n.send()})).then((function(e){u.getDownloadURL().then((function(e){t.updateProfile({photoURL:e})}))}))}}}},l=c,u=(n("d503"),n("a6c2")),f=n("63c1"),h=n.n(f),d=n("e0e9"),p=n("6c44"),m=n("dc7c"),g=n("a3be"),v=n("f636"),b=n("19dc"),$=n("5142"),_=n("7213"),y=n("d376"),q=n("ef9c"),w=n("ec6d"),x=n("5ce7"),C=n("7006"),k=n("84df"),S=n("a561"),P=n("f6b1"),E=Object(u["a"])(l,a,s,!1,null,null,null);t["default"]=E.exports;h()(E,"components",{QItem:d["a"],QItemSection:p["a"],QItemLabel:m["a"],QInput:g["a"],QSelect:v["a"],QIcon:b["a"],QPopupProxy:$["a"],QDate:_["a"],QCheckbox:y["a"],QBtn:q["a"],QDialog:w["a"],QCard:x["a"],QCardSection:C["a"],QCardActions:k["a"]}),h()(E,"directives",{Ripple:S["a"],ClosePopup:P["a"]})},"18e8":function(e,t,n){e.exports=n.p+"img/Canary_Go_Icon.3e7ab0e6.png"},"44f9":function(e,t,n){"use strict";var a=n("f8fa"),s=n.n(a);s.a},5248:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"selector"},[n("picture-input",{key:e.$i18n.locale,ref:"foto",attrs:{id:"foto",width:this.anchura,height:this.altura,margin:"16",accept:"image/jpeg, image/png",size:"5",radius:"5","button-class":"primary","custom-strings":{upload:this.$t("done"),drag:this.$t("select"),change:this.$t("change")}},on:{change:e.onChange,"":function(e){}}})],1)},s=[],o=n("d1a0"),i={name:"Selectorarchivos",data:function(){return{info1:this.$t("select")}},props:{anchura:{},altura:{}},components:{PictureInput:o["a"]},methods:{onChange:function(e){document.getElementsByClassName("picture-preview")[0].setAttribute("style","height: 578px; z-index: 0; background: none;"),console.log("Nuevo archivo"),e?(console.log("Archivo le√≠do."),this.image=e):console.log("FileReader no soportado")}}},r=i,c=(n("44f9"),n("a6c2")),l=Object(c["a"])(r,a,s,!1,null,null,null);t["a"]=l.exports},"6c74":function(e,t,n){},bc00:function(e,t,n){"use strict";var a=n("6c74"),s=n.n(a);s.a},c9f0:function(e,t,n){},d503:function(e,t,n){"use strict";var a=n("c9f0"),s=n.n(a);s.a},f8fa:function(e,t,n){},fa04:function(e,t,n){"use strict";var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login-box"},[n("a",{staticClass:"social-button",attrs:{href:"#",id:"facebook-connect"},on:{click:e.IniciarSesionFacebook}},[n("span",[e._v(e._s(e.facebook))])]),n("a",{staticClass:"social-button",attrs:{href:"#",id:"google-connect"},on:{click:e.IniciarSesionGoogle}},[n("span",[e._v(e._s(e.google))])])])},s=[],o=n("a13d"),i={name:"LoginButtons",data:function(){return{google:this.$t("google"),facebook:this.$t("facebook")}},methods:{IniciarSesionGoogle:function(){var e=this,t=o["e"];o["c"].useDeviceLanguage(),t.setCustomParameters({login_hint:"user@example.com"});var n=!1;o["c"].signInWithPopup(t).catch((function(e){e.code,e.message,e.email,e.credential;n=!0})).then((function(e){e.credential.accessToken,e.user})).then((function(){!0===n?e.Fail(e.$t("error_google")):e.Success()}))},IniciarSesionFacebook:function(){var e=this,t=o["d"];t.addScope("user_birthday"),o["c"].useDeviceLanguage(),t.setCustomParameters({login_hint:"user@example.com"});var n=!1;o["c"].signInWithPopup(t).catch((function(e){e.code,e.message,e.email,e.credential;n=!0})).then((function(e){e.credential.accessToken,e.user})).then((function(){!0===n?e.Fail(e.$t("error_facebook")):e.Success()}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("login_sucess"),position:"bottom",timeout:1e3,progress:!0}),this.$router.push("./events")},Fail:function(e){this.$q.notify({color:"negative",message:e,position:"bottom",timeout:2e3,progress:!0})}}},r=i,c=(n("bc00"),n("a6c2")),l=Object(c["a"])(r,a,s,!1,null,null,null);t["a"]=l.exports}}]);