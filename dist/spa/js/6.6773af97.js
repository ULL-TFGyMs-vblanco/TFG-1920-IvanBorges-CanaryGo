(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[6],{"2b46":function(t,e,a){"use strict";var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"selector"},[a("picture-input",{key:t.$i18n.locale,ref:"foto",attrs:{id:"foto",width:this.anchura,height:this.altura,margin:"16",accept:"image/*",size:"5",radius:"5","button-class":"primary",prefill:this.url,"custom-strings":{upload:this.$t("done"),drag:this.$t("select"),change:this.$t("change")}},on:{change:t.onChange,"":function(t){}}})],1)},r=[],o=a("e597"),i={name:"Selectorarchivos",data:function(){return{info1:this.$t("select")}},props:{anchura:{},altura:{},url:{}},components:{PictureInput:o["a"]},methods:{onChange:function(t){document.getElementsByClassName("picture-preview")[0].setAttribute("style","height: 578px; z-index: 0; background: none;"),console.log("Nuevo archivo"),t?(console.log("Archivo leÃ­do."),this.image=t):console.log("FileReader no soportado")}}},n=i,l=(a("3f53"),a("2877")),u=Object(l["a"])(n,s,r,!1,null,null,null);e["a"]=u.exports},"3f53":function(t,e,a){"use strict";var s=a("8568"),r=a.n(s);r.a},"443b":function(t,e,a){"use strict";var s=a("f54b"),r=a.n(s);r.a},"657d":function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"row text-center"},[s("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"},attrs:{id:"formulario"}},[s("img",{staticStyle:{width:"100px",height:"100px","border-radius":"20%"},attrs:{src:a("a7f7")}}),s("br"),s("br"),s("br"),s("form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)},reset:function(e){return e.preventDefault(),e.stopPropagation(),t.onReset(e)}}},[s("Selectorarchivos",{staticClass:"selectorarchivos",attrs:{anchura:400,altura:400,url:this.photoURL}}),s("br"),s("q-input",{ref:"nombre",staticClass:"Nombre",attrs:{filled:"",label:t.$t("name"),hint:t.$t("name_hint"),type:"name","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("name_fail")}]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),s("q-input",{ref:"usuario",staticClass:"Usuario",attrs:{filled:"",label:t.$t("user"),hint:t.$t("user_hint"),type:"user","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("user_fail")}]},model:{value:t.usuario,callback:function(e){t.usuario=e},expression:"usuario"}}),s("q-select",{ref:"genero",staticClass:"Genero",attrs:{filled:"",options:t.opciones_genero,label:t.$t("gender"),hint:t.$t("gender_hint"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("gender_fail")}]},model:{value:t.genero,callback:function(e){t.genero=e},expression:"genero"}}),s("q-input",{ref:"fecha",staticClass:"Fecha",attrs:{filled:"",label:t.$t("date"),hint:t.$t("date_hint"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("date_fail")},function(e){return 10===e.length||t.$t("date_fail_2")},"date"]},scopedSlots:t._u([{key:"append",fn:function(){return[s("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[s("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[s("q-date",{on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1)],1)]},proxy:!0}]),model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}}),s("q-input",{ref:"email",staticClass:"Email",attrs:{filled:"",label:t.$t("email"),hint:t.$t("email_hint"),type:"email","lazy-rules":"",rules:[function(e){return e&&e.length>0&&e.indexOf("@")>=0||t.$t("email_fail")}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),s("div",[s("q-btn",{staticClass:"Actualizar",attrs:{label:t.$t("update"),type:"submit",color:"primary"}}),s("q-btn",{staticClass:"Reset",attrs:{label:t.$t("clean"),type:"reset",color:"primary",flat:""}})],1)],1)])])},r=[],o=(a("6762"),a("2fdb"),a("7f7f"),a("fc1b"),a("2b46")),i=a("bc3a"),n=a.n(i),l={name:"ActualizarUsuario",components:{Selectorarchivos:o["a"]},data:function(){return{nombre:this.$store.state.store.datosUsuario.name,usuario:this.$store.state.store.datosUsuario.displayName,photoURL:"",genero:this.$store.state.store.datosUsuario.gender,opciones_genero:[this.$t("male"),this.$t("female")],email:this.$store.state.store.datosUsuario.email,fecha:this.$store.state.store.datosUsuario.date,isPwd:!0,sesion:!1}},methods:{onSubmit:function(){this.$refs.nombre.validate(),this.$refs.usuario.validate(),this.$refs.email.validate(),this.$refs.fecha.validate(),this.$refs.genero.validate(),this.$refs.nombre.hasError||this.$refs.usuario.hasError||this.$refs.genero.hasError||this.$refs.email.hasError||this.$refs.fecha.hasError?this.formHasError=!0:!0!==this.sesion?this.$q.notify({color:"negative",message:this.$t("register_fail"),position:"bottom",timeout:2e3,progress:!0}):this.Registrar()},onReset:function(){this.nombre=null,this.usuario=null,this.fecha=null,this.email=null,this.genero=null,this.$refs.nombre.resetValidation(),this.$refs.usuario.resetValidation(),this.$refs.fecha.resetValidation(),this.$refs.email.resetValidation(),this.$refs.genero.resetValidation()},Registrar:function(){var t=this;n()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Obtener datos",correo:this.$store.state.store.datosUsuario.email}}).then((function(e){console.log("RESPUESTA DEL SERVER",e),"Error al crear usuario"===e.data?t.Fail(t.$t("register_fail_2")):e.data.includes("Usuario creado")&&(t.Success(),t.alert=!0)}),(function(t){console.log("EL ERROR ES",t)}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("register_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(t){this.$q.notify({color:"negative",message:t,position:"bottom",timeout:2e3,progress:!0})},Imagen:function(){var t=this;n()({url:"https://firebasestorage.googleapis.com/v0/b/canarygo-f725d.appspot.com/o/eventos%2FHEkt8lSEVZfXCyYmVvkh%2Ffoto?alt=media&token=149fd53d-9db5-4cd2-b4ac-a0d50efe6db1",method:"GET",responseType:"blob"}).then((function(e){var a=document.createElement("a");t.photoURL=e.data,a.click()}))}},mounted:function(){document.getElementsByClassName("picture-preview")[0].setAttribute("prefill","https://ichef.bbci.co.uk/news/976/cpsprodpb/F403/production/_109476426_jheison3.png"),this.Imagen()}},u=l,c=(a("443b"),a("2877")),h=a("eebe"),f=a.n(h),d=a("27f9"),p=a("ddd8"),m=a("0016"),g=a("7cbe"),b=a("52ee"),$=a("9c40"),v=Object(c["a"])(u,s,r,!1,null,null,null);e["default"]=v.exports;f()(v,"components",{QInput:d["a"],QSelect:p["a"],QIcon:m["a"],QPopupProxy:g["a"],QDate:b["a"],QBtn:$["a"]})},8568:function(t,e,a){},a7f7:function(t,e,a){t.exports=a.p+"img/Canary_Go_Icon.3e7ab0e6.png"},f54b:function(t,e,a){}}]);