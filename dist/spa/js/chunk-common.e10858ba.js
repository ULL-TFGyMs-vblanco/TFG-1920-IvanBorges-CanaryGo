(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"003a":function(o,t,e){},"1ff9":function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"login-box"},[e("a",{staticClass:"social-button",attrs:{href:"#",id:"facebook-connect"},on:{click:o.IniciarSesionFacebook}},[e("span",[o._v(o._s(o.facebook))])]),e("a",{staticClass:"social-button",attrs:{href:"#",id:"google-connect"},on:{click:o.IniciarSesionGoogle}},[e("span",[o._v(o._s(o.google))])])])},a=[],r=(e("7f7f"),e("28a5"),e("6762"),e("2fdb"),e("bc3a")),i=e.n(r),s=e("fc1b"),c={name:"LoginButtons",data:function(){return{google:this.$t("google"),facebook:this.$t("facebook")}},methods:{IniciarSesionGoogle:function(){var o=this,t=s["d"];s["b"].useDeviceLanguage(),t.setCustomParameters({login_hint:"user@example.com"});var e=!1;s["b"].signInWithPopup(t).catch((function(o){console.log(o),e=!0})).then((function(o){var t=o.credential.idToken;return t})).then((function(t){!0===e?o.Fail(o.$t("error_google")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:t,id_client:s["e"].client_id}}).then((function(t){if(console.log("RESPUESTA DEL SERVER",t),console.log("USUARIO GOOGLE",s["b"].currentUser),t.data.includes("Usuario correcto:")){var e=t.data.split(":")[1];console.log("LA COSAA ->",s["b"].currentUser.providerData[0]),console.log("EL TOKEN ->",e),o.DatosExtraUsuario(e,s["b"].currentUser.providerData[0]).then((function(t){var n;n=void 0===t.data.foto?s["b"].currentUser.providerData[0].photoURL:t.data.foto;var a={name:t.data.name,date:t.data.date,gender:t.data.gender,photoURL:n,displayName:s["b"].currentUser.providerData[0].displayName,email:s["b"].currentUser.providerData[0].email,provider:s["b"].currentUser.providerData[0].providerId};o.$store.dispatch("store/anadirUsuario",a).then((function(){o.$store.dispatch("store/anadirToken",e).then((function(){setTimeout((function(){o.Success(),o.$router.push("events")}),500)}))}))})).catch((function(o){console.log(o)}))}else o.Fail(o.$t("error_google"))}),(function(o){console.log("EL ERROR ES",o)}))}))},IniciarSesionFacebook:function(){var o=this,t=s["c"];t.addScope("user_birthday"),s["b"].useDeviceLanguage(),t.setCustomParameters({login_hint:"user@example.com"});var e=!1;s["b"].signInWithPopup(t).catch((function(o){console.log(o),e=!0})).then((function(o){var t=o.credential.idToken;return t})).then((function(t){!0===e?o.Fail(o.$t("error_facebook")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:t,id_client:s["e"].client_id}}).then((function(t){var e;console.log("RESPUESTA DEL SERVER",t),console.log("USUARIO FACEBOOK",s["b"].currentUser),e=void 0===t.data.foto?s["b"].currentUser.providerData[0].photoURL:t.data.foto;var n={name:s["b"].currentUser.name,date:s["b"].currentUser.date,gender:s["b"].currentUser.gender,photoURL:e,displayName:s["b"].currentUser.providerData[0].displayName,email:s["b"].currentUser.providerData[0].email,provider:s["b"].currentUser.providerData[0].providerId};if(t.data.includes("Usuario correcto:")){var a=t.data.split(":")[1];o.$store.dispatch("store/anadirUsuario",n).then((function(){o.$store.dispatch("store/anadirToken",a).then((function(){setTimeout((function(){o.Success(),o.$router.push("events")}),500)}))}))}else o.Fail(o.$t("error_google"))}),(function(o){console.log("EL ERROR ES",o)}))}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("login_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(o){this.$q.notify({color:"negative",message:o,position:"bottom",timeout:2e3,progress:!0})},DatosExtraUsuario:function(o,t){return i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Obtener Datos",token:o,correo:t.email}})}}},u=c,l=(e("98d2"),e("2877")),d=Object(l["a"])(u,n,a,!1,null,null,null);t["a"]=d.exports},"2b46":function(o,t,e){"use strict";var n=function(){var o=this,t=o.$createElement,e=o._self._c||t;return e("div",{staticClass:"selector"},[e("picture-input",{key:o.$i18n.locale,ref:"foto",attrs:{id:"foto",crop:!1,width:this.anchura,height:this.altura,margin:"16",accept:"image/*",size:"5",radius:"5","button-class":"primary",zIndex:this.index,"custom-strings":{upload:this.$t("done"),drag:this.$t("select"),change:this.$t("change")}},on:{change:o.onChange,"":function(o){}}})],1)},a=[],r=e("e597"),i={name:"Selectorarchivos",data:function(){return{info1:this.$t("select"),index:1}},props:{anchura:{},altura:{}},components:{PictureInput:r["a"]},methods:{onChange:function(o){console.log("Nuevo archivo"),o?(console.log("Archivo le√≠do."),this.image=o):console.log("FileReader no soportado")}}},s=i,c=(e("3f53"),e("2877")),u=Object(c["a"])(s,n,a,!1,null,null,null);t["a"]=u.exports},"3f53":function(o,t,e){"use strict";var n=e("003a"),a=e.n(n);a.a},"5c50":function(o,t,e){},"98d2":function(o,t,e){"use strict";var n=e("5c50"),a=e.n(n);a.a},a7f7:function(o,t,e){o.exports=e.p+"img/Canary_Go_Icon.3e7ab0e6.png"}}]);