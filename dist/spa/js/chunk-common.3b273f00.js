(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[1],{"003a":function(t,o,e){},"1ff9":function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"login-box"},[e("a",{staticClass:"social-button",attrs:{href:"#",id:"google-connect"},on:{click:t.IniciarSesionGoogle}},[e("span",[t._v(t._s(t.google))])])])},a=[],r=(e("7f7f"),e("28a5"),e("6762"),e("2fdb"),e("bc3a")),i=e.n(r),c=e("fc1b"),s={name:"LoginButtons",data:function(){return{google:this.$t("google"),facebook:this.$t("facebook")}},methods:{IniciarSesionGoogle:function(){var t=this,o=c["d"];c["b"].useDeviceLanguage(),o.setCustomParameters({login_hint:"user@example.com"});var e=!1;c["b"].signInWithPopup(o).catch((function(t){console.log(t),e=!0})).then((function(t){var o=t.credential.idToken;return o})).then((function(o){!0===e?t.Fail(t.$t("error_google")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:o,id_client:c["e"].client_id}}).then((function(o){if(o.data.includes("Usuario correcto:")){var e=o.data.split(":")[1];t.DatosExtraUsuario(e,c["b"].currentUser.providerData[0]).then((function(o){var n;n=void 0===o.data.foto||""===o.data.foto?c["b"].currentUser.providerData[0].photoURL:o.data.foto;var a={name:o.data.name,date:o.data.date,gender:o.data.gender,photoURL:n,displayName:c["b"].currentUser.providerData[0].displayName,email:c["b"].currentUser.providerData[0].email,provider:c["b"].currentUser.providerData[0].providerId};t.$store.dispatch("store/anadirUsuario",a).then((function(){t.$store.dispatch("store/anadirToken",e).then((function(){setTimeout((function(){t.Success(),t.$router.push("events")}),500)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}else t.Fail(t.$t("error_google"))})).catch((function(t){console.log("EL ERROR ES",t)}))}))},IniciarSesionFacebook:function(){var t=this,o=c["c"];o.addScope("user_birthday"),c["b"].useDeviceLanguage(),o.setCustomParameters({login_hint:"user@example.com"});var e=!1;c["b"].signInWithPopup(o).catch((function(t){console.log(t),e=!0})).then((function(t){var o=t.credential.idToken;return o})).then((function(o){!0===e?t.Fail(t.$t("error_facebook")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:o,id_client:c["e"].client_id}}).then((function(o){var e;e=void 0===o.data.foto?c["b"].currentUser.providerData[0].photoURL:o.data.foto;var n={name:c["b"].currentUser.name,date:c["b"].currentUser.date,gender:c["b"].currentUser.gender,photoURL:e,displayName:c["b"].currentUser.providerData[0].displayName,email:c["b"].currentUser.providerData[0].email,provider:c["b"].currentUser.providerData[0].providerId};if(o.data.includes("Usuario correcto:")){var a=o.data.split(":")[1];t.$store.dispatch("store/anadirUsuario",n).then((function(){t.$store.dispatch("store/anadirToken",a).then((function(){setTimeout((function(){t.Success(),t.$router.push("events")}),500)})).catch((function(t){console.log(t)}))})).catch((function(t){console.log(t)}))}else t.Fail(t.$t("error_google"))})).catch((function(t){console.log("EL ERROR ES",t)}))}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("login_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(t){this.$q.notify({color:"negative",message:t,position:"bottom",timeout:2e3,progress:!0})},DatosExtraUsuario:function(t,o){return i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Obtener Datos",token:t,correo:o.email}})}}},u=s,l=(e("98d2"),e("2877")),d=Object(l["a"])(u,n,a,!1,null,null,null);o["a"]=d.exports},"2b46":function(t,o,e){"use strict";var n=function(){var t=this,o=t.$createElement,e=t._self._c||o;return e("div",{staticClass:"selector"},[e("picture-input",{key:t.$i18n.locale,ref:"foto",attrs:{id:"foto",crop:!1,width:this.anchura,height:this.altura,margin:"16",accept:"image/*",size:"25",radius:"5","button-class":"primary",zIndex:this.index,"custom-strings":{upload:this.$t("done"),drag:this.$t("select"),tap:this.$t("select"),change:this.$t("change")}},on:{change:t.onChange,"":function(t){}}})],1)},a=[],r=e("e597"),i={name:"Selectorarchivos",data:function(){return{info1:this.$t("select"),index:1}},props:{anchura:{},altura:{}},components:{PictureInput:r["a"]},methods:{onChange:function(t){console.log("Nuevo archivo"),t?(console.log("Archivo le√≠do."),this.image=t):console.log("FileReader no soportado")}},updated:function(){}},c=i,s=(e("3f53"),e("2877")),u=Object(s["a"])(c,n,a,!1,null,null,null);o["a"]=u.exports},"3f53":function(t,o,e){"use strict";var n=e("003a"),a=e.n(n);a.a},"5c50":function(t,o,e){},"98d2":function(t,o,e){"use strict";var n=e("5c50"),a=e.n(n);a.a},a7f7:function(t,o,e){t.exports=e.p+"img/Canary_Go_Icon.3e7ab0e6.png"}}]);