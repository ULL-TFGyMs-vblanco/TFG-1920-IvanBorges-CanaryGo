(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"1f93":function(t,e,a){"use strict";var n=a("f44a"),s=a.n(n);s.a},"1ff9":function(t,e,a){"use strict";var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"login-box"},[a("a",{staticClass:"social-button",attrs:{href:"#",id:"facebook-connect"},on:{click:t.IniciarSesionFacebook}},[a("span",[t._v(t._s(t.facebook))])]),a("a",{staticClass:"social-button",attrs:{href:"#",id:"google-connect"},on:{click:t.IniciarSesionGoogle}},[a("span",[t._v(t._s(t.google))])])])},s=[],o=a("bc3a"),i=a.n(o),r=a("fc1b"),l={name:"LoginButtons",data:function(){return{google:this.$t("google"),facebook:this.$t("facebook")}},methods:{IniciarSesionGoogle:function(){var t=this,e=r["d"];r["b"].useDeviceLanguage(),e.setCustomParameters({login_hint:"user@example.com"});var a=!1;r["b"].signInWithPopup(e).catch((function(t){console.log(t),a=!0})).then((function(t){var e=t.credential.idToken;return e})).then((function(e){!0===a?t.Fail(t.$t("error_google")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:e,id_client:r["e"].client_id}}).then((function(a){console.log("RESPUESTA DEL SERVER",a),"Usuario correcto"===a.data?t.$store.dispatch("store/anadirUsuario",r["b"].currentUser.providerData[0]).then((function(){setTimeout((function(){t.$store.dispatch("store/anadirToken",e),t.Success(),t.$router.push("events")}),500)})):t.Fail(t.$t("error_google"))}),(function(t){console.log("EL ERROR ES",t)}))}))},IniciarSesionFacebook:function(){var t=this,e=r["c"];e.addScope("user_birthday"),r["b"].useDeviceLanguage(),e.setCustomParameters({login_hint:"user@example.com"});var a=!1;r["b"].signInWithPopup(e).catch((function(t){console.log(t),a=!0})).then((function(t){var e=t.credential.idToken;return e})).then((function(e){!0===a?t.Fail(t.$t("error_facebook")):i()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Login",tipo2:"OAuth",token:e,id_client:r["e"].client_id}}).then((function(a){console.log("RESPUESTA DEL SERVER",a),"Usuario correcto"===a.data?t.$store.dispatch("store/anadirUsuario",r["b"].currentUser.providerData[0]).then((function(){setTimeout((function(){t.$store.dispatch("store/anadirToken",e),t.Success(),t.$router.push("events")}),500)})):t.Fail(t.$t("error_facebook"))}),(function(t){console.log(t)}))}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("login_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(t){this.$q.notify({color:"negative",message:t,position:"bottom",timeout:2e3,progress:!0})}}},c=l,u=(a("98d2"),a("2877")),f=Object(u["a"])(c,n,s,!1,null,null,null);e["a"]=f.exports},"89a8":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"row text-center"},[n("div",{staticClass:"q-pa-md",staticStyle:{width:"100%"},attrs:{id:"formulario"}},[n("img",{staticStyle:{width:"100px",height:"100px","border-radius":"20%"},attrs:{src:a("a7f7")}}),n("br"),n("br"),n("br"),n("form",{staticClass:"q-gutter-md",on:{submit:function(e){return e.preventDefault(),e.stopPropagation(),t.onSubmit(e)},reset:function(e){return e.preventDefault(),e.stopPropagation(),t.onReset(e)}}},[n("q-input",{ref:"nombre",staticClass:"Nombre",attrs:{filled:"",label:t.$t("name"),hint:t.$t("name_hint"),type:"name","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("name_fail")}]},model:{value:t.nombre,callback:function(e){t.nombre=e},expression:"nombre"}}),n("q-input",{ref:"usuario",staticClass:"Usuario",attrs:{filled:"",label:t.$t("user"),hint:t.$t("user_hint"),type:"user","lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("user_fail")}]},model:{value:t.usuario,callback:function(e){t.usuario=e},expression:"usuario"}}),n("q-select",{ref:"genero",staticClass:"Genero",attrs:{filled:"",options:t.opciones_genero,label:t.$t("gender"),hint:t.$t("gender_hint"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("gender_fail")}]},model:{value:t.genero,callback:function(e){t.genero=e},expression:"genero"}}),n("q-input",{ref:"fecha",staticClass:"Fecha",attrs:{filled:"",label:t.$t("date"),hint:t.$t("date_hint"),"lazy-rules":"",rules:[function(e){return e&&e.length>0||t.$t("date_fail")},function(e){return 10===e.length||t.$t("date_fail_2")},"date"]},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:"event"}},[n("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[n("q-date",{on:{input:function(){return t.$refs.qDateProxy.hide()}},model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}})],1)],1)]},proxy:!0}]),model:{value:t.fecha,callback:function(e){t.fecha=e},expression:"fecha"}}),n("q-input",{ref:"email",staticClass:"Email",attrs:{filled:"",label:t.$t("email"),hint:t.$t("email_hint"),type:"email","lazy-rules":"",rules:[function(e){return e&&e.length>0&&e.indexOf("@")>=0||t.$t("email_fail")}]},model:{value:t.email,callback:function(e){t.email=e},expression:"email"}}),n("q-input",{ref:"contrasena",staticClass:"Contrasena",attrs:{filled:"",type:t.isPwd?"password":"text",label:t.$t("password"),hint:t.$t("password_hint"),"lazy-rules":"",rules:[function(e){return null!==e&&""!==e||t.$t("password_fail")}]},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.contrasena,callback:function(e){t.contrasena=e},expression:"contrasena"}}),n("q-input",{ref:"contrasena2",staticClass:"Contrasena2",attrs:{filled:"",type:t.isPwd?"password":"text",label:t.$t("password"),hint:t.$t("password_repeat"),"lazy-rules":"",rules:[function(e){return null!==e&&""!==e||t.$t("password_repeat_fail")},function(e){return e===t.contrasena||t.$t("password_repeat_fail_2")}]},scopedSlots:t._u([{key:"append",fn:function(){return[n("q-icon",{staticClass:"cursor-pointer",attrs:{name:t.isPwd?"visibility_off":"visibility"},on:{click:function(e){t.isPwd=!t.isPwd}}})]},proxy:!0}]),model:{value:t.contrasena2,callback:function(e){t.contrasena2=e},expression:"contrasena2"}}),n("div",{staticClass:"text-center"},[n("q-checkbox",{staticClass:"Terms",attrs:{name:"sesion",label:t.$t("terms")},model:{value:t.sesion,callback:function(e){t.sesion=e},expression:"sesion"}}),n("br"),n("q-item",{directives:[{name:"ripple",rawName:"v-ripple"}],attrs:{clickable:""}},[n("q-item-section",[n("q-item-label",{staticStyle:{color:"#ec9718"}},[t._v(t._s(t.$t("terms2")))])],1)],1)],1),n("div",[n("q-btn",{staticClass:"Registro",attrs:{label:t.$t("register"),type:"submit",color:"primary"}}),n("q-btn",{staticClass:"Reset",attrs:{label:t.$t("clean"),type:"reset",color:"primary",flat:""}})],1)],1),n("LoginButtons",{key:t.$i18n.locale}),n("q-dialog",{model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[n("q-card",[n("q-card-section",[n("div",{staticClass:"text-h6"},[t._v(t._s(t.$t("alert")))])]),n("q-card-section",{staticClass:"q-pt-none"},[t._v(t._s(t.$t("email_verification")))]),n("q-card-actions",{attrs:{align:"right"}},[n("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",label:"OK",color:"primary"}})],1)],1)],1)],1)])},s=[],o=(a("6762"),a("2fdb"),a("fc1b"),a("1ff9")),i=a("bc3a"),r=a.n(i),l={name:"Signup",components:{LoginButtons:o["a"]},data:function(){return{alert:!1,confirm:!1,prompt:!1,nombre:null,usuario:null,genero:null,opciones_genero:["Masculino","Femenino"],email:null,fecha:null,contrasena:null,contrasena2:null,isPwd:!0,sesion:!1}},methods:{onSubmit:function(){this.$refs.nombre.validate(),this.$refs.usuario.validate(),this.$refs.email.validate(),this.$refs.fecha.validate(),this.$refs.contrasena.validate(),this.$refs.contrasena2.validate(),this.$refs.genero.validate(),this.$refs.nombre.hasError||this.$refs.usuario.hasError||this.$refs.genero.hasError||this.$refs.email.hasError||this.$refs.fecha.hasError||this.$refs.contrasena.hasError||this.$refs.contrasena2.hasError?this.formHasError=!0:!0!==this.sesion?this.$q.notify({color:"negative",message:this.$t("register_fail"),position:"bottom",timeout:2e3,progress:!0}):this.Registrar()},onReset:function(){this.nombre=null,this.usuario=null,this.fecha=null,this.email=null,this.contrasena=null,this.contrasena2=null,this.genero=null,this.$refs.nombre.resetValidation(),this.$refs.usuario.resetValidation(),this.$refs.fecha.resetValidation(),this.$refs.email.resetValidation(),this.$refs.contrasena.resetValidation(),this.$refs.contrasena2.resetValidation(),this.$refs.genero.resetValidation()},Registrar:function(){var t=this;r()({method:"put",url:"https://canarygo.herokuapp.com/autorizar",data:{tipo:"Registro",correo:this.email,contrasena2:this.contrasena2,nombre:this.nombre,genero:this.genero,fecha:this.fecha,usuario:this.usuario}}).then((function(e){console.log("RESPUESTA DEL SERVER",e),"Error al crear usuario"===e.data?t.Fail(t.$t("register_fail_2")):e.data.includes("Usuario creado")&&(t.Success(),t.alert=!0)}),(function(t){console.log("EL ERROR ES",t)}))},Success:function(){this.$q.notify({icon:"done",color:"positive",message:this.$t("register_sucess"),position:"bottom",timeout:1e3,progress:!0})},Fail:function(t){this.$q.notify({color:"negative",message:t,position:"bottom",timeout:2e3,progress:!0})}}},c=l,u=(a("1f93"),a("2877")),f=a("eebe"),p=a.n(f),d=a("27f9"),h=a("ddd8"),m=a("0016"),g=a("7cbe"),b=a("52ee"),$=a("8f8e"),v=a("66e5"),_=a("4074"),y=a("0170"),k=a("9c40"),q=a("24e8"),x=a("f09f"),E=a("a370"),S=a("4b7e"),C=a("714f"),w=a("7f67"),P=Object(u["a"])(c,n,s,!1,null,null,null);e["default"]=P.exports;p()(P,"components",{QInput:d["a"],QSelect:h["a"],QIcon:m["a"],QPopupProxy:g["a"],QDate:b["a"],QCheckbox:$["a"],QItem:v["a"],QItemSection:_["a"],QItemLabel:y["a"],QBtn:k["a"],QDialog:q["a"],QCard:x["a"],QCardSection:E["a"],QCardActions:S["a"]}),p()(P,"directives",{Ripple:C["a"],ClosePopup:w["a"]})},"98d2":function(t,e,a){"use strict";var n=a("a899"),s=a.n(n);s.a},a7f7:function(t,e,a){t.exports=a.p+"img/Canary_Go_Icon.3e7ab0e6.png"},a899:function(t,e,a){},f44a:function(t,e,a){}}]);